# mini.nvim 套件 - 轻量增强工具

mini.nvim 是一套轻量级的 Neovim 增强工具，包含 mini.ai 和 mini.operators 等模块。

## 安装方式

```lua
-- mini.ai - 增强文本对象
{
  "echasnovski/mini.ai",
  event = "VeryLazy",
}

-- mini.operators - 增强操作符
{
  "echasnovski/mini.operators",
  event = "VeryLazy",
}
```

## 快捷键一览表

| 功能 | 说明 | 备注 |
|------|------|------|
| 增强文本对象 | 更智能的文本对象识别 | 自动激活 |
| 增强操作符 | 更多文本操作功能 | 自动激活 |

## 常用命令/用法

### mini.ai 文本对象

1. **增强文本对象**：提供更智能的文本对象识别
2. **Treesitter 集成**：基于语法树的文本对象
3. **自定义文本对象**：支持自定义文本对象定义
4. **多行支持**：支持跨行的文本对象
5. **智能边界**：更准确的文本边界识别

### mini.operators 操作符

1. **替换操作**：`gr` + 文本对象进行替换
2. **排序操作**：`gs` + 文本对象进行排序
3. **计算操作**：`g=` + 文本对象进行计算
4. **交换操作**：`gx` + 文本对象进行交换
5. **自定义操作**：支持自定义操作符

## 主要特性

- **轻量级**：最小化的资源占用
- **模块化**：独立的模块设计
- **高性能**：优化的算法实现
- **可配置**：丰富的配置选项
- **兼容性**：与现有插件良好兼容

## 与现有插件的配合/注意事项

- **与 Treesitter 配合**：利用语法树增强文本对象
- **与 nvim-surround 配合**：增强环绕操作
- **与 mini.ai 配合**：提供一致的体验
- **性能优化**：使用 `VeryLazy` 事件，不影响启动速度
- **兼容性**：与现有文本对象不冲突

## 配置说明

### mini.ai 配置

- **搜索方法**：覆盖或下一个
- **早期步骤**：显示早期步骤
- **自定义文本对象**：支持自定义定义
- **Treesitter 集成**：基于语法树的对象

### mini.operators 配置

- **替换前缀**：`gr` 前缀
- **排序前缀**：`gs` 前缀
- **计算前缀**：`g=` 前缀
- **交换前缀**：`gx` 前缀

## 故障排查

### 常见报错与解决

1. **文本对象不生效**
   - 检查 Treesitter 是否正确安装
   - 确认文件类型支持
   - 查看错误信息：`:messages`

2. **操作符冲突**
   - 检查是否有其他插件使用相同前缀
   - 调整操作符前缀配置
   - 查看 `:verbose map` 确认映射状态

3. **性能问题**
   - 确认使用 `VeryLazy` 事件
   - 检查文件大小是否过大
   - 调整配置参数优化性能
